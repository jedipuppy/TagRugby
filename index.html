<!DOCTYPE html>
<html>

<head>
        <meta charset="UTF-8" />
        <title>TagRugby</title>
        <meta name="Description" content="" />
        <meta name="Keywords" content="" />

        <!-- Bootstrap 4 CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
                integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
                crossorigin="anonymous">
        <link rel="stylesheet" href="assets/css/custom.css">

        <!-- CodeMirror -->
        <link rel="stylesheet" href="assets/codemirror/lib/codemirror.css">
        <script src="assets/codemirror/lib/codemirror.js"></script>
        <script src="assets/codemirror/mode/javascript/javascript.js"></script>

        <!-- TagRugby-core -->
        <script type="text/javascript" src="assets/js/TagRugby-core.js"></script>

</head>

<body>
        <div class="contents">
                <nav class="navbar navbar-dark bg-dark">
                        <a class="navbar-brand" href="#">
                                <img src="assets/img/rugby-ball.svg" width="20" height="30"
                                        class="d-inline-block align-top" alt="">
                                TagRugby AI Platform
                        </a>
                </nav>
                <div class="config shadow-sm">
                        <form name="ConfigForm">
                                <div class="form-row">
                                        <div class="form-group-sm col-sm-2">
                                                <label for="boardsize" class="col-form-label">盤面サイズ</label>
                                                <select name="boardsize" class="form-control">Choose
                                                        <option value="8">8×8</option>
                                                        <option value="12">12×12</option>
                                                        <option value="16">16×16</option>
                                                        <option value="20" selected="selected">20×20</option>
                                                </select>
                                        </div>
                                        <div class="form-group-sm col-sm-2">
                                                <label for="tag_num" class="col-form-label">タグの回数</label>
                                                <select name="tag_num" class="form-control">Choose
                                                        <option value="1">1回</option>
                                                        <option value="2">2回</option>
<<<<<<< HEAD
                                                        <option value="3">3回</option>
                                                        <option value="4" selected="selected">4回</option>
=======
                                                        <option value="3" selected="selected">3回</option>
                                                        <option value="4">4回</option>
>>>>>>> origin/master
                                                        <option value="5">5回</option>
                                                </select>
                                        </div>
                                        <div class="form-group-sm col-sm-3">
                                                <label for="attackNum" class="col-form-label">アタック</label>
                                                <select name="attackNum" class="form-control">Choose
                                                        <option value="1">1人</option>
                                                        <option value="2">2人</option>
                                                        <option value="3">3人</option>
                                                        <option value="4">4人</option>
                                                        <option value="5" selected="selected">5人</option>
                                                </select>
                                        </div>
                                        <div class="form-group-sm col-sm-3">
                                                <label for="defenseNum" class="col-form-label">ディフェンス</label>
                                                <select name="defenseNum" class="form-control">Choose
                                                        <option value="1">1人</option>
                                                        <option value="2">2人</option>
                                                        <option value="3">3人</option>
                                                        <option value="4">4人</option>
                                                        <option value="5" selected="selected">5人</option>
                                                </select>
                                        </div>

                                        <div class="form-group-sm col-sm-2 config-submit">
                                                <button type="button" class="btn btn-primary"
                                                        onclick="config()">設定</button>
                                        </div>
                                </div>
                        </form>
                </div>

                <div class="control shadow-sm">
                        <form name="ControlForm">
                                <div class="form-row">
                                        <div class="form-group-sm col-sm-3">
                                                <label for="attack_role" class="col-form-label">アタック</label>
                                                <select name="attack_role" class="form-control">Choose
                                                        <option value="human">人</option>
                                                        <option value="AttackAI">AttackAI</option>

                                                </select>
                                        </div>
                                        <div class="form-group-sm col-sm-3">
                                                <label for="defense_role" class="col-form-label">ディフェンス</label>
                                                <select name="defense_role" class="form-control">Choose
                                                        <option value="human">人</option>
                                                        <option value="DefenseSample2">DefenseAI</option>
                                                </select>
                                        </div>
                                        <div class="form-group-sm col-sm-3">
                                                <label for="game_speed" class="col-form-label">速さ</label>
                                                <select name="game_speed" class="form-control">Choose
                                                        <option value="0">低速</option>
                                                        <option value="1">高速</option>
                                                        <option value="2">超高速</option>
                                                </select>
                                        </div>
                                        <div class="form-group-sm col-sm-1 config-submit">
                                                <button type="button" class="btn btn-primary"
                                                        onclick="restart()">設定</button>
                                        </div>

                                        <div class="form-group-sm col-sm-1 config-submit">
                                                        <input type ="hidden" name ="ana_role" value="AttackAI" >
                                                <button type="button" class="btn btn-primary"
                                                        onclick="analysis()">解析</button>
                                        </div>
                                </div>
                        </form>
                </div>
                <div class="boardarea shadow-sm">

                        <div>
                                <canvas id="canvas"></canvas>
                        </div>
                        <div class="row status">
                                <div class="param col-sm-4 name">アタック勝利数：</div>
                                <div class="param col-sm-1 data" id="attack_win_num">0</div>
                                <div class="param col-sm-4 name">ディフェンス勝利数：</div>
                                <div class="param col-sm-1 data" id="defense_win_num">0</div>
                                <div class="param col-sm-4 name">残りタグ：</div>
                                <div class="param col-sm-1 data" id="tag">0</div>
                                <div class="param col-sm-6 data" id="pass" style="color:#C44A48"></div>
                                <div class="param col-sm-6 data" id="result" style="color:#C44A48"></div>
                        </div>
                </div>
                <div class="codingarea shadow-sm">
                        <form name="CodingForm">
                                <div class="form-group-sm">
                                        <label for="initial_pos">初期配置の設定のコード</label>
                                        <div class="param" id="poserror" style="color:#C44A48"></div>
                                        <textarea class="form-control" name="initial_pos" rows="20"></textarea>
                                </div>
                                <div class="form-group-sm col-sm-3 config-submit">
                                        <button type="button" class="btn btn-primary" onclick="config()">設定</button>
                                </div>
                                <div class="form-group-sm coding-form">
                                        <label for="attackAIfunc">AttackAIのコード</label>
                                        <div class="param" id="codeerror" style="color:#C44A48"></div>
                                        <textarea class="form-control" name="attackAIfunc" rows="20"></textarea>
                                </div>
                                <div class="form-row">
                                        <div class="param" id="uploaderror" style="color:#C44A48"></div>
                                        <div class="form-group-sm col-sm-3">

                                                <label for="AIname" class="col-form-label">AIの名前</label>
                                                <select name="AIname" class="form-control">Choose
                                                        <option value="AI0">AI0</option>
                                                        <option value="AI1">AI1</option>
                                                        <option value="AI2">AI2</option>
                                                        <option value="AI3">AI3</option>
                                                        <option value="AI4">AI4</option>
                                                        <option value="AI5">AI5</option>
                                                        <option value="AI6">AI6</option>
                                                        <option value="AI7">AI7</option>
                                                        <option value="AI8">AI8</option>
                                                        <option value="AI9">AI9</option>
                                                        <option value="AI10">AI10</option>
                                                        <option value="AI11">AI11</option>
                                                        <option value="AI12">AI12</option>
                                                        <option value="AI13">AI13</option>
                                                        <option value="AI14">AI14</option>
                                                        <option value="AI15">AI15</option>
                                                        <option value="AI16">AI16</option>
                                                        <option value="AI17">AI17</option>
                                                        <option value="AI18">AI18</option>
                                                        <option value="AI19">AI19</option>
                                                        <option value="AI20">AI20</option>
                                                        <option value="AI21">AI21</option>
                                                        <option value="AI22">AI22</option>
                                                        <option value="AI23">AI23</option>
                                                        <option value="AI24">AI24</option>
                                                        <option value="AI25">AI25</option>
                                                        <option value="AI26">AI26</option>
                                                        <option value="AI27">AI27</option>
                                                        <option value="AI28">AI28</option>
                                                        <option value="AI29">AI29</option>
                                                        <option value="AI30">AI30</option>
                                                </select>
                                        </div>
                                        <div class="form-group-sm col-sm-3 config-submit">
                                                <button type="button" class="btn btn-primary"
                                                        onclick="upload()">登録</button>
                                        </div>
                                </div>
                </div>
                </form>
                <div class="config shadow-sm">
                        <form name="SampleForm">
                                <div class="form-row">
                                        <div class="form-group-sm col-sm-6">
                                                <label for="samplenum" class="col-form-label">サンプル</label>
                                                <select name="samplenum" class="form-control">Choose
                                                        <option value="1">1対1 (1)</option>
                                                        <option value="2">1対1 (2)</option>
                                                        <option value="3">1対1 (3)</option>
                                                        <option value="4">2対2 (1)</option>
                                                        <option value="5">2対2 (2)</option>
                                                        <option value="6">2対2 (3)</option>
                                                </select>
                                        </div>
                                        <div class="form-group-sm col-sm-3 config-submit">
                                                <button type="button" class="btn btn-primary"
                                                        onclick="sampleset()">サンプル設定</button>
                                        </div>
                                </div>
                        </form>
                </div>
        </div>

        </div>



</body>
<script type="text/javascript">
        //----------------------------------------
        // CodeMirrorの設定
        //----------------------------------------
        let editor = CodeMirror.fromTextArea(document.CodingForm.attackAIfunc, {
                lineNumbers: true,
                mode: "javascript"
        })
        editor.setValue(loadAI());
        let pos_editor = CodeMirror.fromTextArea(document.CodingForm.initial_pos, {
                lineNumbers: true,
                mode: "javascript"
        })
        pos_editor.setValue(loadpos());
        //----------------------------------------
        // 初期配置の読み込み
        //----------------------------------------
        function loadpos() {
                let xmlHttp = new XMLHttpRequest();
                xmlHttp.open("GET", "assets/js/initial_pos.js", false);
                xmlHttp.send(null);
                return xmlHttp.responseText;
        }
        //----------------------------------------
        // AIファイルの読み込み
        //----------------------------------------
        function loadAI() {
                let xmlHttp = new XMLHttpRequest();
                xmlHttp.open("GET", "assets/js/attackAI.js", false);
                xmlHttp.send(null);
                return xmlHttp.responseText;
        }
</script>

</html>